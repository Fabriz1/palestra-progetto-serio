/* ========================================= */
/* === 1. RESET E BASE === */
/* ========================================= */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background-color: #F5F5F7;
    height: 100vh;
    overflow: hidden;
    color: #1D1D1F;
}

/* --- MOBILE BLOCKER --- */
#mobile-blocker {
    display: none;
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: #1D1D1F;
    color: white;
    z-index: 99999;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 20px;
}

@media (max-width: 1024px) {
    #mobile-blocker { display: flex; }
    .builder-container { display: none; }
}

.btn-back-home {
    margin-top: 20px;
    color: #0071E3;
    text-decoration: none;
    font-weight: 600;
}

/* ========================================= */
/* === 2. LAYOUT APP E HEADER === */
/* ========================================= */
.builder-container {
    display: flex;
    flex-direction: column;
    height: 100vh;
}

.builder-header {
    height: 70px;
    background: white;
    border-bottom: 1px solid #E5E5EA;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 24px;
    flex-shrink: 0;
    z-index: 50; /* Header sopra il contenuto */
}

.header-left, .header-center, .header-right {
    display: flex; align-items: center; gap: 16px;
}

.header-center { flex-grow: 1; justify-content: center; }

.icon-btn {
    background: none; border: none; font-size: 24px; cursor: pointer; color: #1D1D1F;
}

#workout-name {
    font-size: 20px; font-weight: 700;
    border-bottom: 1px dashed transparent;
    padding-bottom: 2px;
}
#workout-name:hover, #workout-name:focus {
    border-bottom-color: #0071E3; outline: none;
}

/* Input Header */
#client-select, #num-days {
    padding: 8px 12px;
    border: 1px solid #D2D2D7;
    border-radius: 8px;
    font-family: inherit; font-size: 14px;
}

/* Bottoni Generali */
.btn-primary {
    background: #0071E3; color: white; border: none;
    padding: 10px 20px; border-radius: 8px; font-weight: 600;
    display: flex; align-items: center; gap: 8px; cursor: pointer;
}

.btn-secondary {
    background: white; color: #1D1D1F; border: 1px solid #D2D2D7;
    padding: 10px 20px; border-radius: 8px; font-weight: 600;
    display: flex; align-items: center; gap: 8px; cursor: pointer;
}


/* ========================================= */
/* === 3. WORKSPACE E PANNELLI === */
/* ========================================= */
.workspace {
    flex-grow: 1;
    display: grid;
    grid-template-columns: 3fr 1fr;
    overflow: hidden;
}

/* --- PANNELLO SINISTRO (EDITOR) --- */
.editor-panel {
    background: #F5F5F7;
    border-right: 1px solid #E5E5EA;
    display: flex; flex-direction: column;
    overflow: hidden;
}

/* Tabs Giorni */
.days-tabs {
    display: flex; gap: 2px;
    background: white;
    padding: 12px 24px 0 24px;
    border-bottom: 1px solid #E5E5EA;
}

.tab-btn {
    padding: 10px 24px;
    background: #F5F5F7;
    border: 1px solid #E5E5EA; border-bottom: none;
    border-radius: 8px 8px 0 0;
    cursor: pointer; font-weight: 500; color: #86868B;
    transition: all 0.2s;
}

.tab-btn.active {
    background: #FFFFFF; color: #0071E3; font-weight: 600;
    border-top: 2px solid #0071E3;
}

/* Area Scrollabile Esercizi */
.day-content {
    flex-grow: 1;
    overflow-y: auto;
    padding: 24px;
    padding-bottom: 100px; /* Spazio extra in fondo */
}

/* --- PANNELLO DESTRO (STATS) --- */
.stats-panel {
    background: white;
    padding: 24px;
    border-left: 1px solid #E5E5EA;
    display: flex; flex-direction: column;
    overflow-y: auto;
}

.stats-panel h3 { margin-bottom: 20px; font-size: 18px; }
.charts-container { margin-bottom: 30px; position: relative; height: 250px; }
.stats-list { display: flex; flex-direction: column; gap: 10px; }
.stat-item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #F5F5F7; font-size: 14px; }
.muscle-label { font-weight: 500; }
.volume-value { font-family: monospace; font-weight: 600; }
.tips-box { margin-top: auto; background: #F2F2F7; padding: 12px; border-radius: 8px; font-size: 12px; color: #636366; }


/* ========================================= */
/* === 4. NUOVO DESIGN CARD ESERCIZIO === */
/* ========================================= */

.exercise-row {
    position: relative !important;
    display: flex;
    flex-direction: column; /* Impilamento verticale dei "Deck" */
    gap: 16px; /* Spazio tra i piani */
    
    padding: 20px; 
    padding-right: 50px !important; /* Spazio protetto per il cestino */
    
    background: white;
    border-radius: 16px;
    margin-bottom: 16px;
    border: 1px solid #E5E5EA;
    box-shadow: 0 2px 5px rgba(0,0,0,0.02);
    
    /* Gestione Stacking (Importante per i menu) */
    z-index: 1;
    overflow: visible !important;
    transition: box-shadow 0.2s, z-index 0s;
}

.exercise-row:hover {
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    z-index: 1000;
}

/* CESTINO (Fisso in alto a destra) */
.btn-remove-row {
    position: absolute !important;
    top: 16px;
    right: 12px;
    width: 32px; height: 32px;
    color: #FF3B30; background: transparent;
    border-radius: 8px; border: none; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    z-index: 20;
    transition: background 0.2s;
}
.btn-remove-row:hover { background: #FFF0F1; }

/* DRAG HANDLE */
.drag-handle {
    position: absolute; top: 20px; left: 6px;
    color: #C7C7CC; cursor: grab; display: flex;
}

/* STILI INPUT COMUNI */
.tiny-label {
    font-size: 10px; color: #86868B; font-weight: 700;
    text-transform: uppercase; margin-bottom: 4px; letter-spacing: 0.5px;
}
.input-wrapper { display: flex; flex-direction: column; }

.exercise-row input, .exercise-row select, .exercise-row textarea {
    padding: 9px 12px;
    border: 1px solid #D2D2D7;
    border-radius: 8px;
    font-family: 'Inter', sans-serif; font-size: 13px;
    background: white; outline: none; transition: border 0.2s;
    width: 100%;
}
.exercise-row input:focus, .exercise-row select:focus, .exercise-row textarea:focus {
    border-color: #0071E3;
}

/* --- PIANO 1: TOP DECK (Nome + Box Volume) --- */
.er-top-deck {
    display: flex;
    gap: 20px;
    align-items: stretch; /* Allinea altezze */
    width: 100%;
    padding-left: 15px; /* Spazio drag handle */
}

/* Nome Esercizio */
.ex-name-wrapper { flex-grow: 1; }
.input-ex-name { font-weight: 600; font-size: 15px; height: 100%; }

/* BOX VOLUME (Sfondo colorato e Cornicetta) */
.volume-box {
    display: flex;
    gap: 12px;
    align-items: flex-end; /* Allinea inputs in basso */
    
    background: #F7F9FC; /* Grigio-Bluastro chiarissimo */
    border: 1px solid #E1E6EB; /* Cornicetta */
    padding: 10px 14px;
    border-radius: 12px;
}

/* Wrapper dentro il box volume */
.tech-wrapper { width: 130px; }
.select-technique { color: #AF52DE; font-weight: 600; border-color: rgba(0,0,0,0.1); }

.dynamic-inputs-area { display: flex; gap: 8px; }
.input-sets, .input-reps { width: 55px; text-align: center; font-weight: 600; border-color: rgba(0,0,0,0.1); }

/* Special Mode (Top Set) */
.dynamic-inputs-area.special-mode { gap: 12px; }
.special-group { display: flex; flex-direction: column; gap: 2px; align-items: center; }
.special-input { width: 45px; padding: 4px; text-align: center; font-size: 12px; }


/* --- PIANO 2: MID DECK (Recupero + Intensità) --- */
.er-mid-deck {
    display: flex;
    gap: 20px;
    align-items: flex-end;
    padding-left: 15px;
    padding-bottom: 12px;
    border-bottom: 1px dashed #F2F2F7;
}

.rest-wrapper { width: 120px; }

/* Gruppo Intensità (Rosso) */
/* --- GRUPPO INTENSITÀ (Widget Ridisegnato) --- */

.intensity-group {
    display: flex;
    align-items: flex-end; /* Allinea tutto sul fondo */
    gap: 12px; /* Spazio tra Parametro e Target */
    
    background: #FFF0F3; /* Rosa molto pallido */
    border: 1px solid #FFCCD5; /* Bordo rosa leggermente più scuro */
    border-radius: 12px;
    padding: 6px 12px 8px 12px; /* Spaziatura interna bilanciata */
    height: fit-content;
}

/* Sovrascriviamo lo stile generico dei wrapper solo qui dentro */
.intensity-group .input-wrapper {
    gap: 2px; /* Avvicina etichetta e campo */
}

/* Le etichette "Parametro" e "Target" */
.intensity-group .tiny-label {
    color: #FF85A1; /* Rosa scuro invece che grigio, per coerenza */
    font-size: 9px;
    margin-bottom: 0;
}

/* Il menu a tendina (RPE, Kg, ecc) */
.select-metric {
    border: 1px dotted  !important;
    border-color: #ff3a305a;
    background: transparent !important;
    padding: 0px 0px 0px 4px !important; /* Rimuove padding standard */
    margin: 0;
    
    font-size: 15px !important;
    font-weight: 800 !important;
    color: #FF2D55 !important;
    
    cursor: pointer;
    height: 30px; /* Altezza fissa per allineamento */
    width: auto !important;
    min-width: 60px;
    
    /* Togliamo l'aspetto standard del browser */
    -webkit-appearance: none; 
    appearance: none;
    /* Aggiungiamo una freccina personalizzata rossa */
    background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23FF2D55%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
    background-repeat: no-repeat;
    background-position: right 0px center;
    background-size: 10px;
}

/* Il box bianco del numero */
.input-intensity-val {
    width: 60px !important;
    height: 30px !important; /* Stessa altezza del select */
    
    border: 1px solid #FFB3C1 !important; /* Bordo rosa più definito */
    border-radius: 8px !important;
    background: white !important;
    
    color: #FF2D55 !important;
    font-weight: 700 !important;
    font-size: 14px !important;
    text-align: center;
    padding: 0 !important;
}

.input-intensity-val:focus {
    border-color: #FF2D55 !important;
    box-shadow: 0 0 0 3px rgba(255, 45, 85, 0.1);
}


/* --- PIANO 3: BOT DECK (Muscoli + Note) --- */
.er-bot-deck {
    display: grid;
    grid-template-columns: 1fr 1fr; /* 50% / 50% */
    gap: 24px;
    padding-left: 15px;
}

/* Colonna Muscoli */
.er-col-muscles {
    display: flex; flex-direction: column; gap: 10px;
    position: relative; z-index: 50; /* Priorità Menu */
}

/* Colonna Note */
.er-col-notes { display: flex; flex-direction: column; }
.input-notes {
    resize: none; height: 100%; min-height: 80px;
    font-size: 13px; color: #444; line-height: 1.5;
}

/* Sinergici */
.synergists-list { display: flex; flex-direction: column; gap: 8px; }

.synergist-row {
    display: flex; gap: 8px; align-items: center;
    background: #FAFAFC; padding: 6px; border-radius: 8px;
    border: 1px solid #F0F0F5;
    position: relative; z-index: 20;
}

.synergist-row select { width: 110px; font-size: 12px; }

.btn-add-synergist {
    font-size: 12px; color: #0071E3; background: white;
    border: 1px dashed #D2D2D7; padding: 10px; border-radius: 8px;
    cursor: pointer; text-align: center; width: 100%; transition: all 0.2s;
}
.btn-add-synergist:hover { background: #F0F8FF; border-color: #0071E3; }

.btn-del-syn { color: #999; cursor: pointer; font-size: 18px; padding: 4px; }
.btn-del-syn:hover { color: #FF3B30; }


/* ========================================= */
/* === 5. CUSTOM DROPDOWN (APPLE STYLE) === */
/* ========================================= */
.custom-dropdown-wrapper {
    position: relative; width: 100%; min-width: 200px;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    z-index: 10;
}

.dropdown-trigger {
    padding: 10px 14px;
    border: 1px solid #D2D2D7; border-radius: 8px;
    background: white; cursor: pointer;
    font-size: 14px; font-weight: 500; color: #1D1D1F;
    display: flex; justify-content: space-between; align-items: center;
    user-select: none; transition: all 0.2s ease;
    z-index: 1;
}
.dropdown-trigger:hover { border-color: #0071E3; background: #FAFAFC; }

/* IL MENU FLOTTANTE (Fix Posizione) */
.dropdown-menu {
    position: absolute;
    top: calc(100% + 6px);
    
    /* MODIFICA QUI: Torniamo ad ancorarlo a SINISTRA */
    left: 0;      /* Parte dal bordo sinistro del bottone */
    right: auto;  /* Non lo forziamo più a destra */
    
    width: 450px; 
    max-width: 85vw; /* Si adatta se lo schermo è piccolo */
    
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 16px; /* Arrotondamento uniforme */
    
    box-shadow: 
        0 10px 40px -10px rgba(0, 0, 0, 0.2), 
        0 0 0 1px rgba(0,0,0,0.05);
    
    z-index: 99999;
    
    opacity: 0;
    transform: translateY(-10px) scale(0.98);
    transform-origin: top left; /* L'animazione ora parte da sinistra */
    
    pointer-events: none;
    visibility: hidden;
    
    transition: 
        opacity 0.2s cubic-bezier(0.2, 0.8, 0.2, 1),
        transform 0.2s cubic-bezier(0.2, 0.8, 0.2, 1),
        visibility 0.2s;
    
    display: flex;
    flex-direction: column;
}

.dropdown-menu.open { opacity: 1; transform: translateY(0) scale(1); pointer-events: all; visibility: visible; }

.dropdown-search-box { padding: 12px; border-bottom: 1px solid rgba(0,0,0,0.05); background: transparent; z-index: 101; }
.dropdown-search-box input { width: 100%; padding: 10px; border: 1px solid #D2D2D7; border-radius: 8px; font-size: 14px; outline: none; }
.dropdown-search-box input:focus { border-color: #0071E3; }

.dropdown-items-container { max-height: 380px; overflow-y: auto; padding: 8px 0; z-index: 101; }
.dropdown-items-container::-webkit-scrollbar { width: 6px; }
.dropdown-items-container::-webkit-scrollbar-thumb { background: #C7C7CC; border-radius: 3px; }

/* Elementi Lista Dropdown */
.group-header {
    padding: 12px 16px; color: #1D1D1F; font-weight: 700; font-size: 14px;
    cursor: pointer; display: flex; justify-content: space-between; align-items: center;
    border-bottom: 1px solid #F5F5F7; background: white; transition: background 0.1s;
}
.group-header:hover { background: #F2F2F7; }

.arrow-icon {
    font-size: 16px; color: #0071E3; background: #F0F8FF; padding: 6px; border-radius: 50%;
    transition: transform 0.3s;
}
.group-header.expanded .arrow-icon { transform: rotate(90deg); background: #0071E3; color: white; }

.group-children {
    display: none; background: #FAFAFC; padding: 8px; border-bottom: 1px solid #F5F5F7;
    grid-template-columns: 1fr 1fr; gap: 4px;
}
.group-children.visible { display: grid; animation: slideDown 0.2s ease-out; }

.child-item {
    padding: 8px 12px; font-size: 13px; color: #48484A; cursor: pointer; border-radius: 8px;
}
.child-item:hover { background: white; color: #0071E3; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
.child-item.selected { background: #0071E3; color: white; font-weight: 600; }

@keyframes slideDown { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }


/* ========================================= */
/* === 6. Z-INDEX FIXES (IMPILAMENTO) === */
/* ========================================= */

/* Menu muscoli in primo piano su hover */
.custom-dropdown-wrapper:hover, .custom-dropdown-wrapper:focus-within {
    z-index: 99999 !important;
}

/* Righe sinergici */
.synergist-row:hover {
    z-index: 1000 !important;
}

/* Colonna muscoli primari sopra a tutto */
.er-col-muscles {
    z-index: 200 !important;
}

/* ========================================= */
/* === 7. MODALI E EXTRA === */
/* ========================================= */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(5px);
    display: flex; justify-content: center; align-items: center;
    z-index: 1000; animation: fadeIn 0.2s ease-out;
}
.hidden { display: none !important; }
.modal-card {
    background: white; width: 450px; border-radius: 20px; padding: 24px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2); animation: popIn 0.3s;
}
.modal-header { display: flex; justify-content: space-between; margin-bottom: 20px; }
.save-option {
    display: flex; gap: 16px; padding: 16px; border: 2px solid #E5E5EA; border-radius: 12px;
    margin-bottom: 12px; cursor: pointer; transition: all 0.2s;
}
.save-option:hover { border-color: #D2D2D7; background: #F9F9FA; }
.save-option.active { border-color: #0071E3; background: #F0F8FF; }
.radio-circle { width: 20px; height: 20px; border: 2px solid #C7C7CC; border-radius: 50%; margin-top: 2px; }
.save-option.active .radio-circle { border-color: #0071E3; background: #0071E3; box-shadow: inset 0 0 0 4px white; }
.modal-select, .modal-input { width: 100%; padding: 8px; border: 1px solid #D2D2D7; border-radius: 8px; margin-top: 5px; }
.full-width { width: 100%; margin-top: 10px; }

/* Fisarmonica Statistiche */
.stat-group { border-bottom: 1px solid #F5F5F7; }
.stat-parent { display: flex; justify-content: space-between; padding: 10px 0; cursor: pointer; font-weight: 600; }
.stat-arrow { font-size: 10px; margin-left: 8px; transition: transform 0.2s; }
.stat-parent.active .stat-arrow { transform: rotate(90deg); }
.stat-children { display: none; padding-bottom: 8px; padding-left: 12px; background: #FAFAFC; border-radius: 4px; }
.stat-children.visible { display: block; animation: fadeIn 0.2s; }
.child-stat { display: flex; justify-content: space-between; font-size: 12px; padding: 4px 0; border-bottom: 1px dashed #E5E5EA; }

/* Grafico Back Button */
.chart-box { position: relative; }
#btn-chart-back {
    position: absolute; top: 10px; right: 10px;
    background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(4px);
    border: 1px solid #E5E5EA; padding: 6px 12px; border-radius: 12px;
    font-size: 11px; font-weight: 600; cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 100; color: #0071E3;
    display: none;
}
#btn-chart-back:hover { background: #0071E3; color: white; }

/* Aggiungi Esercizio */
.btn-add-exercise {
    width: 100%; padding: 16px; border: 2px dashed #D2D2D7; background: transparent;
    border-radius: 12px; color: #86868B; font-weight: 600; cursor: pointer; margin-top: 20px;
}
.btn-add-exercise:hover { border-color: #0071E3; color: #0071E3; background: rgba(0, 113, 227, 0.05); }

@keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }



/*codice per scheda powerliftingé*/
/* ========================================= */
/* === 8. STILE POWERLIFTING / PRO MODE === */
/* ========================================= */

/* --- TOGGLE SWITCH NELL'HEADER --- */
.mode-switch-wrapper {
    display: flex; align-items: center; gap: 8px;
    background: #F5F5F7; padding: 4px 12px; border-radius: 20px;
    margin-right: 16px; border: 1px solid #E5E5EA;
}
.switch-label { font-size: 11px; font-weight: 600; color: #86868B; transition: color 0.3s; }
.switch-label.selected { color: #1D1D1F; }

/* The switch - the box around the slider */
.switch { position: relative; display: inline-block; width: 34px; height: 20px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
    position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
    background-color: #ccc; transition: .4s; border-radius: 34px;
}
.slider:before {
    position: absolute; content: ""; height: 14px; width: 14px;
    left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%;
}
input:checked + .slider { background-color: #1D1D1F; } /* Nero Pro per PL */
input:checked + .slider:before { transform: translateX(14px); }


/* --- RIGA ESERCIZIO POWERLIFTING (PL-ROW) --- */
.pl-row {
    background: #FFFFFF;
    border-left: 4px solid #1D1D1F; /* Bordo nero per distinguere */
    padding: 16px; border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.04);
    display: flex; flex-direction: column; gap: 12px;
    margin-bottom: 12px; position: relative;
    border: 1px solid #E5E5EA;
}

.pl-header { display: flex; align-items: center; gap: 12px; padding-right: 40px; }
.tier-badge {
    font-size: 9px; font-weight: 800; text-transform: uppercase;
    padding: 4px 6px; border-radius: 4px; color: white; background: #1D1D1F;
}

/* Griglia Logica PL */
.pl-logic-grid {
    display: grid; grid-template-columns: 1.2fr 1fr; gap: 16px;
    background: #FAFAFC; padding: 12px; border-radius: 8px; border: 1px solid #F0F0F5;
}

.pl-section { display: flex; flex-direction: column; gap: 6px; }
.pl-section-title { font-size: 10px; font-weight: 700; color: #86868B; text-transform: uppercase; letter-spacing: 0.5px; border-bottom: 1px solid #E5E5EA; padding-bottom: 4px; margin-bottom: 4px; }

.pl-inputs-row { display: flex; align-items: center; gap: 8px; }
.pl-input-mini { width: 50px !important; text-align: center; font-weight: 600; padding: 6px !important; }
.pl-text-fixed { font-size: 12px; color: #666; }

/* Menu Logica Backoff */
.pl-select-logic {
    border: 1px solid #D2D2D7; font-size: 12px; padding: 6px; border-radius: 6px;
    background: white; width: 100%; font-weight: 500; cursor: pointer;
}
.pl-select-logic:focus { border-color: #0071E3; }

/* Colore Input in base al contesto */
.inp-rpe { border-color: #FF9500 !important; color: #FF9500; }
.inp-perc { border-color: #0071E3 !important; color: #0071E3; }
.inp-kg { border-color: #34C759 !important; color: #34C759; }


/* --- POWERLIFTING NAV --- */
.pl-nav-container { background: white; border-bottom: 1px solid #E5E5EA; display: flex; flex-direction: column; }
.pl-weeks-row { display: flex; overflow-x: auto; padding: 10px 15px; gap: 8px; border-bottom: 1px solid #F5F5F7; }
.pl-days-row { display: flex; padding: 8px 15px; gap: 8px; background: #FAFAFC; }

.btn-week, .btn-day {
    border: 1px solid #E5E5EA; background: white; padding: 6px 12px; border-radius: 6px;
    font-size: 12px; font-weight: 600; cursor: pointer; color: #86868B; transition: all 0.2s;
}
.btn-week:hover, .btn-day:hover { border-color: #0071E3; }
.btn-week.active { background: #1D1D1F; color: white; border-color: #1D1D1F; }
.btn-day.active { background: #0071E3; color: white; border-color: #0071E3; }

/* --- CARD FONDAMENTALE (PL) --- */
.pl-fund-row {
    border-left: 5px solid #FF9500; /* Arancione Forza */
    background: #FFFCF5;
}

.variant-selector {
    width: 100%; padding: 10px; border: 1px solid #E5E5EA; background: white; border-radius: 8px;
    cursor: pointer; font-weight: 600; display: flex; justify-content: space-between; align-items: center;
}
.variant-selector:hover { border-color: #FF9500; }

.pl-tracking-row {
    display: flex; gap: 15px; align-items: center; margin-top: 10px;
    background: white; padding: 8px; border-radius: 8px; border: 1px solid #eee;
}

/* Checkbox volume custom */
.vol-exclude-wrapper {
    display: flex; align-items: center; gap: 6px; font-size: 11px; color: #666;
    margin-left: auto; cursor: pointer;
}

/* Copia Complementari Button */
.btn-copy-series {
    font-size: 11px; color: #0071E3; background: transparent; border: none; cursor: pointer;
    display: flex; align-items: center; gap: 4px; padding: 4px; margin-top: 5px;
}
.btn-copy-series:hover { text-decoration: underline; }

/* --- MENU VARIANTI LARGO --- */
.variant-dropdown-menu {
    width: 600px !important; /* Molto più largo */
    max-width: 90vw;
    padding: 15px;
}

/* Griglia interna per le categorie */
.variant-grid-layout {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 2 Colonne */
    gap: 15px;
}

.variant-group {
    background: #FAFAFC;
    border-radius: 8px;
    padding: 8px;
    border: 1px solid #F0F0F5;
}

.variant-group h4 {
    font-size: 11px; text-transform: uppercase; color: #86868B;
    margin-bottom: 6px; border-bottom: 1px solid #E5E5EA; padding-bottom: 4px;
}
/* Input speciale per Varianti a Tempo/Isocinetiche */
.pl-param-extra {
    border: 1px solid #AF52DE; color: #AF52DE; font-weight: bold;
    background: #Fbf5ff; width: 80px; text-align: center;
}